<app-header-general></app-header-general>
<div class="container">
  <div class="image-container"></div>
  <div class="form-container">
    <h1>üÖø EASY PARK</h1>


    <div *ngIf="loginSuccess" class="alert alert-success d-flex align-items-center" role="alert">
      <i class="bi bi-check-circle-fill me-2"></i>
      <div>Inicio de sesi√≥n exitoso, redirigiendo...</div>
    </div>


    <div *ngIf="loginError" class="alert alert-danger d-flex align-items-center" role="alert">
      <i class="bi bi-exclamation-triangle-fill me-2"></i>
      <div>Correo o contrase√±a incorrectos.</div>
    </div>

    <div *ngIf="data.invalid && data.touched" class="alert alert-warning d-flex align-items-center" role="alert">
      <i class="bi bi-exclamation-circle-fill me-2"></i>
      <div>Por favor, complete todos los campos.</div>
    </div>


    <form [formGroup]="data" (ngSubmit)="handleSubmit()">
      <!-- Correo Electr√≥nico -->
      <label for="email">Correo Electr√≥nico</label>
      <input type="email" id="email" placeholder="Ingrese su correo" formControlName="userId" class="form-control"
        [ngClass]="{'ng-invalid ng-touched': data.get('userId')?.invalid && data.get('userId')?.touched}">

      <!-- Mensaje de error si el correo es inv√°lido -->
      <div *ngIf="data.get('userId')?.invalid && data.get('userId')?.touched" class="error">
        <span *ngIf="data.get('userId')?.errors?.['required']">‚ö† El correo es obligatorio. *</span>
        <span *ngIf="data.get('userId')?.errors?.['email']">‚ö† Ingrese un correo v√°lido (ejemplo&#64;dominio.com)
          *.</span>
      </div>

      <br /><br /><br />

      <!-- Contrase√±a -->
      <label for="password">Contrase√±a</label>
      <input type="password" id="password" placeholder="Ingrese su contrase√±a" formControlName="password"
        class="form-control"
        [ngClass]="{'ng-invalid ng-touched': data.get('password')?.invalid && data.get('password')?.touched}">

      <!-- Mensaje de error si la contrase√±a es inv√°lida -->
      <div *ngIf="data.get('password')?.invalid && data.get('password')?.touched" class="error">
        <span *ngIf="data.get('password')?.errors?.['required']">‚ö† La contrase√±a es obligatoria. *</span>
      </div>

      <br /><br /><br />
      <button type="submit">Iniciar Sesi√≥n</button>

      <br /><br /><br />
      <a [routerLink]="'/register'">¬øNo tienes una cuenta? Reg√≠strate aqu√≠</a>

      <br /><br /><br />
      <a [routerLink]="'/admin/login'">Iniciar Sesi√≥n como Administrador</a>

      <br /><br /><br />
      <a [routerLink]="'/recuperar'">¬øOlvidaste tu contrase√±a? Haz clic aqu√≠</a>
    </form>
  </div>
</div>